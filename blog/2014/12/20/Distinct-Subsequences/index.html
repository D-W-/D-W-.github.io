
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>LeetCode上面的Distinct Subsequences总结 - D W</title>
  <meta name="author" content="Harry">

  
  <meta name="description" content="最近做了挺多东西,从中也学了不少,觉得总结一下比较好,一直没有时间就一直拖着,现在终于有点空闲的时间,觉得像我这种记性不太好的人还是多做一些code review,否则做一点忘一点,最后反而学不到什么东西. 0.先在这里记录一下要整理的东西 1.模拟登陆与抓包(以模拟登陆新浪微博为主, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://d-w-.github.io/blog/2014/12/20/Distinct-Subsequences">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="D W" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/dawnfan.js" type="text/javascript"></script>
  <script src="/javascripts/jquery.nicescroll.min.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   class="no-sidebar"  >
  <header role="banner"><a id="avatar" href="/about"><img src="/images/icon.jpg" alt="avatar"></a>
<div class="header-left">
  <hgroup>
  <h1><a href="/">D W</a></h1>
  
  <div class="subtitle">
    <h2>Brick walls are there for a reason, they let us prove how badly we want things.</h2>
  </div>
  
  </hgroup>
  
</div>

<div class="header-right">
  <ul class="main-navigation">
 <div> 
  <li><a href="/">blog</a></li></div>
         <div> 
  <li><a href="/blog/archives">archives</a></li></div>    
         <div> 
  <li><a href="/about">about</a></li></div>
</ul>
  

</div></header>
    <span id="btn-list" onclick="turnList()">></span>
<div id="list" class="off">
<h2>Posts List</h2>

    <h5>
    <a href="/blog/2016/04/12/mount-windows-partitions-on-ubuntu/">Mount Windows Partitions on Ubuntu</a>
    <span>April 12, 2016</span>  
    </h5>

    <h5>
    <a href="/blog/2015/10/10/zui-duan-lu-jing-wen-ti/">最短路径问题</a>
    <span>October 10, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2015/09/28/story-continued-bao-yan-zhi-lu/">Story Continued &#8211; 保研之路</a>
    <span>September 28, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2015/08/27/reading-computer-systems-a-programmers-perspective-2/">Reading Computer Systems(A Programmer’s Perspective):2</a>
    <span>August 27, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2015/08/22/cheng-fa-ni-yuan-euclidding-li-he-zhong-guo-sheng-yu-ding-li/">乘法逆元 Euclid定理和中国剩余定理</a>
    <span>August 22, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2015/08/14/reading-computer-systems-a-programmers-perspective-1/">Reading Computer Systems(A Programmer&#8217;s Perspective):1</a>
    <span>August 14, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2015/04/23/half-way-conclusion-of-3rd-grade-in-college/">Half Way Conclusion of 3rd Grade in College</a>
    <span>April 23, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2015/04/05/gityuan-cheng-dai-ma-guan-li-,sshhuan-shi-https/">git远程代码管理，SSH还是HTTPS</a>
    <span>April  5, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2015/04/05/moving-my-blog-to-octopress/">Moving My Blog to Octopress</a>
    <span>April  5, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2015/03/25/Monster-Storm/">Monster Storm</a>
    <span>March 25, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2015/03/23/Review_Vcool-Website/">Review VCool Website</a>
    <span>March 23, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2015/03/22/Morris-Traversal/">Morris Traversal</a>
    <span>March 22, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2015/03/20/douban-paper-test/">豆瓣笔试</a>
    <span>March 20, 2015</span>  
    </h5>

    <h5>
    <a href="/blog/2014/12/20/Distinct-Subsequences/">LeetCode上面的Distinct Subsequences总结</a>
    <span>December 20, 2014</span>  
    </h5>

    <h5>
    <a href="/blog/2014/11/25/Word-Ladder/">LeetCode上面的WordLadder总结</a>
    <span>November 25, 2014</span>  
    </h5>

    <h5>
    <a href="/blog/2014/11/14/Linux-File-System/">Linux文件系统基础</a>
    <span>November 14, 2014</span>  
    </h5>

    <h5>
    <a href="/blog/2014/10/15/First-Blog/">第一篇博客</a>
    <span>October 15, 2014</span>  
    </h5>

    <h5>
    <a href="/blog/2014/03/03/Hello-World/">Markdown Style Guide</a>
    <span>March  3, 2014</span>  
    </h5>

</div>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">LeetCode上面的Distinct Subsequences总结</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-12-20T00:00:00+08:00" pubdate data-updated="true"></time>
        
        
          | <a href="#comments">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>最近做了挺多东西,从中也学了不少,觉得总结一下比较好,一直没有时间就一直拖着,现在终于有点空闲的时间,觉得像我这种记性不太好的人还是多做一些code review,否则做一点忘一点,最后反而学不到什么东西.</p>

<h2>0.先在这里记录一下要整理的东西</h2>

<p>1.模拟登陆与抓包(以模拟登陆新浪微博为主,还包括一些编码加密方式)
2.简易python框架的使用和编写(参照<a href="http://www.liaoxuefeng.com/">廖雪峰的博客</a>)
3.cookie和session的区别
4.支持向量机学习笔记
5.图片分类算法(图像处理课堂作业总结)
6.一些在LeetCode上面做过的题目的总结</p>

<p>还是先回归正题,以后有空了再把那几个坑填上..
先总结一下今天做的这道题,LeetCode上面的<a href="https://oj.leetcode.com/problems/distinct-subsequences/">Distinct Subsequences</a></p>

<h2>1.题目描述</h2>

<p>首先这道题题目描述不是很容易理解,我看了半天还是没明白题意,可能是英语水平有限.这里重新描述一下这道题</p>

<p>给两个字符串S,T 要求在S中找子串(subsequence),使S的子串等于T,在S中找到最多的这样的子串个数</p>

<h2>2.解题思路</h2>

<p>这道题很明显是一道DP,作为一个初学者,我首先想到了最长公共子串</p>

<pre><code>    if(s1[i] == s2[i])
        dp[i][j] = dp[i-1][j-1]+1;
    else
        dp[i][j] = max(dp[i-1][j],dp[i][j-1]);
</code></pre>

<p>可惜和这题没什么关系
DP很重要的是观察前后元素的关系,在这道题目中,如果用M*N的space来存储计算结果,其中<strong>dp[i][j]</strong>代表了<strong>T[0,i]</strong>中包含的等于<strong>T[0,j]</strong>的子串的数目.
重点就是得到<strong>dp[i][j]</strong>和前面的值之间的关系,我就先画了一张二维数组的表
r a b b b i t
0 0 0 0 0 0 0 0
r 0 1 1 1 1 1 1 1
a 0 0 1 1 1 1 1 1
b 0 0 0 1 2 3 3 3
b 0 0 0 0 1 3 3 3
i 0 0 0 0 0 0 3 1
t 0 0 0 0 0 0 0 3
表中的数值都是人工计算出来的,这里的重点是<strong>b重复了3次的那个地方</strong>,再找个重复多次的例子看了一下,发现了规律,(对于一个初学者直接写出递推式实在太困难,这样找规律的方法更容易理解一些)</p>

<pre><code>    if(s[i] == t[j])
        dp[i][j] = dp[i][j-1]+dp[i-1][j-1];
    else
        dp[i][j] = dp[i][j-1];
</code></pre>

<p>这些代码的<strong>数学解释</strong>就是:
当s[i]和t[j]匹配的时候
对应的值就是以s[i]结尾的子串的个数和不以s[i]结尾的子串的个数的和
例如rabb<strong>b</strong> 和 rab<strong>b</strong>匹配到最后一个b的时候,对应的值就是rabbb中以最后一个b结尾的还要和<strong>rab</strong>相等的子串的个数为2(123,124),不以最后一个b结尾的还要和<strong>rabb</strong>相等的子串的个数为1(1234),总和就是3,具体可以再用rabbbbbb和rabb匹配实验一下&hellip;
当不匹配的时候
直接等于上一个就好了..</p>

<h2>3.代码实现</h2>

<pre><code>    class Solution {
    public:
        int numDistinct(string S, string T) {
            //DP
            /*dp[i][j] stores  number of S[0,i]'s substr which equals T[0,j]*/
            int **dp = new int*[T.length()+1];
            for (int i = 0; i &lt;= T.length(); ++i){
                dp[i] = new int[S.length()+1];
                memset(dp[i], 0, sizeof(int)*S.length());
            }
            for (int i = 0; i &lt;= S.length(); ++i)
                dp[0][i] = 1;
            bool flag = false;
            int next = 0;
            for (int i = 0; i &lt; T.length(); ++i){
                for (int j = next; j &lt; S.length(); ++j){
                    if (S[j] == T[i]){
                        dp[i + 1][j + 1] = dp[i][j] + dp[i + 1][j];
                        if (!flag){
                            flag = true;
                            next = j + 1;
                        }
                    }
                    else
                        dp[i + 1][j + 1] = dp[i + 1][j];
                }
                flag = false;
            }
            return dp[T.length()][S.length()];
        }
    };
</code></pre>

<h2>3.代码优化</h2>

<p>0.我的代码一开始有一个比较大的问题,就是没对数组初始化..后来进行了修改</p>

<ol>
<li><p>内层循环的开始不必是0,这点我已经在实现的时候优化,
比如rabbbit和rabbit匹配的时候匹配到了t的时候,只要从(rabbit中的)i的下一个开始匹配就可以了,因为要匹配t,必须在前面所有字符已经匹配结束的基础上匹配t</p></li>
<li><p>比较重要的一个优化,leetcode论坛上面一个大牛的优化,将空间复杂度降到了O(n)</p></li>
</ol>


<p>具体是这样的</p>

<pre><code>    vector&lt;int&gt; path(m+1, 0);
    path[0] = 1;            // initial condition

    for (int j = 1; j &lt;= n; j++) {
        // traversing backwards so we are using path[i-1] from last time step
        for (int i = m; i &gt;= 1; i--) {
            path[i] = path[i] + (T[i-1] == S[j-1] ? path[i-1] : 0);
        }
    }
</code></pre>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Harry</span></span>

      








  


<time datetime="2014-12-20T00:00:00+08:00" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/algorithm/'>algorithm</a>, <a class='category' href='/blog/categories/leetcode/'>leetcode</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://d-w-.github.io/blog/2014/12/20/Distinct-Subsequences/" data-via="" data-counturl="http://d-w-.github.io/blog/2014/12/20/Distinct-Subsequences/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/11/25/Word-Ladder/" title="Previous Post: LeetCode上面的WordLadder总结">&laquo; LeetCode上面的WordLadder总结</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/03/20/douban-paper-test/" title="Next Post: 豆瓣笔试">豆瓣笔试 &raquo;</a>
      
    </p>
  </footer>
</article>


  <section>
    <h1>Comments</h1>
    <div id="comments" aria-live="polite"><!-- 多说评论框 start -->
<div class="ds-thread" data-title="LeetCode上面的Distinct Subsequences总结"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"d-w"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
<!-- 多说公共JS代码 end -->
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Harry -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

<p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> using the <a href="https://github.com/fapper/classic-martinb">classic-martinb</a> theme</span>
</p>
</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
